2024-06-04 06:24:46 - DEBUG  [rest.py:235] - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"27951860"},"items":[{"metadata":{"name":"details-v1-5b68497cdb-7cdfg","generateName":"details-v1-5b68497cdb-","namespace":"default","uid":"de711add-1ad7-4633-b6b7-a86c9db49002","resourceVersion":"27858287","creationTimestamp":"2024-06-03T19:09:16Z","labels":{"app":"details","pod-template-hash":"5b68497cdb","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"details","service.istio.io/canonical-revision":"v1","serviceName":"details","version":"v1"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"details","kubectl.kubernetes.io/default-logs-container":"details","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"details-v1-5b68497cdb","uid":"68d216d2-79ce-4c7c-9dd3-6144d68ee119","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-06-03T19:09:16Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{},"f:serviceName":{},"f:version":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"68d216d2-79ce-4c7c-9dd3-6144d68ee119\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"details\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":9080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-06-03T19:09:32Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"192.168.1.89\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"kube-api-access-d9r9c","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.2","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-d9r9c","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"details","image":"docker.io/istio/examples-bookinfo-details-v1:1.18.0","ports":[{"containerPort":9080,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-d9r9c","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.2","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"containerPort\":9080,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"details"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"details-v1"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/details-v1"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-d9r9c","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"bookinfo-details","serviceAccount":"bookinfo-details","nodeName":"k8s-vm1","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:18Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:32Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:32Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:16Z"}],"hostIP":"115.146.93.61","podIP":"192.168.1.89","podIPs":[{"ip":"192.168.1.89"}],"startTime":"2024-06-03T19:09:16Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-06-03T19:09:17Z","finishedAt":"2024-06-03T19:09:17Z","containerID":"cri-o://5574e3cfaad0d3a9b741096b99b6a9e9981bb9d787d646c82a6d54f368a79050"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.2","imageID":"4b2c96f6d71b99469fef7392cfd1d29a3c4297d22ee73697b6e4a78c878e945e","containerID":"cri-o://5574e3cfaad0d3a9b741096b99b6a9e9981bb9d787d646c82a6d54f368a79050","started":false}],"containerStatuses":[{"name":"details","state":{"running":{"startedAt":"2024-06-03T19:09:29Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/examples-bookinfo-details-v1:1.18.0","imageID":"e2e599581401fba40425568f2e968960540d5e3b6491cb3717727e6ae8d76b21","containerID":"cri-o://9c7a439d6177dae864e00558f2f0855cb5bf4b16b2ee3751fbfdb8876708c9b1","started":true},{"name":"istio-proxy","state":{"running":{"startedAt":"2024-06-03T19:09:30Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.2","imageID":"4b2c96f6d71b99469fef7392cfd1d29a3c4297d22ee73697b6e4a78c878e945e","containerID":"cri-o://16e3a94b45c58799b8897f4835554981a58da0e519319f8123f79657e261eaf3","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"productpage-v1-67d7f4dfd5-p57p4","generateName":"productpage-v1-67d7f4dfd5-","namespace":"default","uid":"087b2170-c4e1-48b4-a837-9e1422267c70","resourceVersion":"27858224","creationTimestamp":"2024-06-03T19:09:16Z","labels":{"app":"productpage","pod-template-hash":"67d7f4dfd5","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"productpage","service.istio.io/canonical-revision":"v1","serviceName":"productpage","version":"v1"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"productpage","kubectl.kubernetes.io/default-logs-container":"productpage","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"productpage-v1-67d7f4dfd5","uid":"23289169-2f89-4c6d-a21a-48997cb58a2a","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-06-03T19:09:16Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:prometheus.io/path":{},"f:prometheus.io/port":{},"f:prometheus.io/scrape":{}},"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{},"f:serviceName":{},"f:version":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"23289169-2f89-4c6d-a21a-48997cb58a2a\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"productpage\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":9080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-06-03T19:09:20Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"192.168.4.67\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"tmp","emptyDir":{}},{"name":"kube-api-access-sg2mx","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.2","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-sg2mx","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"productpage","image":"docker.io/istio/examples-bookinfo-productpage-v1:1.18.0","ports":[{"containerPort":9080,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"tmp","mountPath":"/tmp"},{"name":"kube-api-access-sg2mx","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.2","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"containerPort\":9080,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"productpage"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"productpage-v1"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/productpage-v1"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"},{"name":"ISTIO_PROMETHEUS_ANNOTATIONS","value":"{\"scrape\":\"true\",\"path\":\"/metrics\",\"port\":\"9080\"}"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-sg2mx","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"bookinfo-productpage","serviceAccount":"bookinfo-productpage","nodeName":"k8s-vm5","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:18Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:20Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:20Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:16Z"}],"hostIP":"115.146.92.113","podIP":"192.168.4.67","podIPs":[{"ip":"192.168.4.67"}],"startTime":"2024-06-03T19:09:16Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-06-03T19:09:18Z","finishedAt":"2024-06-03T19:09:18Z","containerID":"cri-o://15a2e52bdb0131e3de4978b1150395e19e758fa4b0c9d0caeb795bd8da75fa43"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.2","imageID":"4b2c96f6d71b99469fef7392cfd1d29a3c4297d22ee73697b6e4a78c878e945e","containerID":"cri-o://15a2e52bdb0131e3de4978b1150395e19e758fa4b0c9d0caeb795bd8da75fa43","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2024-06-03T19:09:19Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.2","imageID":"4b2c96f6d71b99469fef7392cfd1d29a3c4297d22ee73697b6e4a78c878e945e","containerID":"cri-o://af1014da6c2dfcde12d777a7121227b767df76d56b94c2d88902c4bc794adf2d","started":true},{"name":"productpage","state":{"running":{"startedAt":"2024-06-03T19:09:18Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/examples-bookinfo-productpage-v1:1.18.0","imageID":"c7f5c6babec70ab0e4371d59b9a441c93f650814fac927712fd425b11ec8c9e3","containerID":"cri-o://f90b6746526d3b3b85936d6a03b0188d7f76a2abd2e07c10ce815eb55972182b","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"ratings-v1-58f9cd4fc4-292bx","generateName":"ratings-v1-58f9cd4fc4-","namespace":"default","uid":"f1761b82-3a05-4ca7-9013-b37c5bfa95fd","resourceVersion":"27858253","creationTimestamp":"2024-06-03T19:09:16Z","labels":{"app":"ratings","pod-template-hash":"58f9cd4fc4","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"ratings","service.istio.io/canonical-revision":"v1","serviceName":"ratings","version":"v1"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"ratings","kubectl.kubernetes.io/default-logs-container":"ratings","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"ratings-v1-58f9cd4fc4","uid":"174a9962-faae-46fb-87fc-e2f8abb95b8a","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-06-03T19:09:16Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{},"f:serviceName":{},"f:version":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"174a9962-faae-46fb-87fc-e2f8abb95b8a\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"ratings\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":9080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-06-03T19:09:23Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"192.168.2.10\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"kube-api-access-25mjg","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.2","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-25mjg","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"ratings","image":"docker.io/istio/examples-bookinfo-ratings-v1:1.18.0","ports":[{"containerPort":9080,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-25mjg","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.2","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"containerPort\":9080,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"ratings"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"ratings-v1"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/ratings-v1"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-25mjg","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"bookinfo-ratings","serviceAccount":"bookinfo-ratings","nodeName":"k8s-vm2","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:17Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:23Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:23Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:16Z"}],"hostIP":"115.146.94.2","podIP":"192.168.2.10","podIPs":[{"ip":"192.168.2.10"}],"startTime":"2024-06-03T19:09:16Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-06-03T19:09:17Z","finishedAt":"2024-06-03T19:09:17Z","containerID":"cri-o://0d1d15b045b750e4c8d403ec8284ae064a9be9b6da2020981cfbf4cb3f457160"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.2","imageID":"4b2c96f6d71b99469fef7392cfd1d29a3c4297d22ee73697b6e4a78c878e945e","containerID":"cri-o://0d1d15b045b750e4c8d403ec8284ae064a9be9b6da2020981cfbf4cb3f457160","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2024-06-03T19:09:21Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.2","imageID":"4b2c96f6d71b99469fef7392cfd1d29a3c4297d22ee73697b6e4a78c878e945e","containerID":"cri-o://0e8b14e8a1738bd93508838159a87b4b1e7739b48632ea6c651d0089e850a478","started":true},{"name":"ratings","state":{"running":{"startedAt":"2024-06-03T19:09:21Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/examples-bookinfo-ratings-v1:1.18.0","imageID":"152909c37ed31f0a76f7cbe45be841833ee7bd8a7521114eb3dc1662069708ea","containerID":"cri-o://25d37ce6d5c81bba39bbf4f28b254b5af98da8cae96d9849d0f65a0a5c20c864","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"reviews-v1-dc97674d7-wdqn2","generateName":"reviews-v1-dc97674d7-","namespace":"default","uid":"cb7b60c0-1068-46d3-8015-5ce5cc9214d4","resourceVersion":"27858210","creationTimestamp":"2024-06-03T19:09:16Z","labels":{"app":"reviews","pod-template-hash":"dc97674d7","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"reviews","service.istio.io/canonical-revision":"v1","serviceName":"reviews-v1","version":"v1"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"reviews","kubectl.kubernetes.io/default-logs-container":"reviews","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"reviews-v1-dc97674d7","uid":"7043ced9-ac49-464b-b27b-bb993256c08f","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-06-03T19:09:16Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{},"f:serviceName":{},"f:version":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"7043ced9-ac49-464b-b27b-bb993256c08f\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"reviews\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"LOG_DIR\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":9080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/opt/ibm/wlp/output\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"wlp-output\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-06-03T19:09:20Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"192.168.1.88\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"wlp-output","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"kube-api-access-l4c59","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.2","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-l4c59","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"reviews","image":"docker.io/istio/examples-bookinfo-reviews-v1:1.18.0","ports":[{"containerPort":9080,"protocol":"TCP"}],"env":[{"name":"LOG_DIR","value":"/tmp/logs"}],"resources":{},"volumeMounts":[{"name":"tmp","mountPath":"/tmp"},{"name":"wlp-output","mountPath":"/opt/ibm/wlp/output"},{"name":"kube-api-access-l4c59","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.2","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"containerPort\":9080,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"reviews"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"reviews-v1"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/reviews-v1"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-l4c59","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"bookinfo-reviews","serviceAccount":"bookinfo-reviews","nodeName":"k8s-vm1","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:18Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:20Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:20Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:16Z"}],"hostIP":"115.146.93.61","podIP":"192.168.1.88","podIPs":[{"ip":"192.168.1.88"}],"startTime":"2024-06-03T19:09:16Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-06-03T19:09:17Z","finishedAt":"2024-06-03T19:09:17Z","containerID":"cri-o://138c996ed03cee84a1eb3340f95eefd02a86f0805ea802042f22293f9238983c"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.2","imageID":"4b2c96f6d71b99469fef7392cfd1d29a3c4297d22ee73697b6e4a78c878e945e","containerID":"cri-o://138c996ed03cee84a1eb3340f95eefd02a86f0805ea802042f22293f9238983c","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2024-06-03T19:09:18Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.2","imageID":"4b2c96f6d71b99469fef7392cfd1d29a3c4297d22ee73697b6e4a78c878e945e","containerID":"cri-o://0400e9440cfa3a8773d941d534282001e80d37cea76a4167d3d1fe8991f96438","started":true},{"name":"reviews","state":{"running":{"startedAt":"2024-06-03T19:09:18Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/examples-bookinfo-reviews-v1:1.18.0","imageID":"c597e239e62fb69927af84546661d0868a736f25a425cbe336a21115fc55e2ab","containerID":"cri-o://a6091e0f0285ebe22a20cabab2265caac8a5996c37b82e91f7edc6d42c7351ec","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"reviews-v2-5dbc47c466-bg6d7","generateName":"reviews-v2-5dbc47c466-","namespace":"default","uid":"77d311af-b0e8-4fae-a373-1fd0322705d5","resourceVersion":"27858241","creationTimestamp":"2024-06-03T19:09:16Z","labels":{"app":"reviews","pod-template-hash":"5dbc47c466","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"reviews","service.istio.io/canonical-revision":"v2","serviceName":"reviews-v2","version":"v2"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"reviews","kubectl.kubernetes.io/default-logs-container":"reviews","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"reviews-v2-5dbc47c466","uid":"f0864926-35c8-4705-8f08-766be9ea3e3b","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-06-03T19:09:16Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{},"f:serviceName":{},"f:version":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"f0864926-35c8-4705-8f08-766be9ea3e3b\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"reviews\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"LOG_DIR\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":9080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/opt/ibm/wlp/output\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"wlp-output\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-06-03T19:09:22Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"192.168.2.11\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"wlp-output","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"kube-api-access-hrlzn","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.2","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-hrlzn","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"reviews","image":"docker.io/istio/examples-bookinfo-reviews-v2:1.18.0","ports":[{"containerPort":9080,"protocol":"TCP"}],"env":[{"name":"LOG_DIR","value":"/tmp/logs"}],"resources":{},"volumeMounts":[{"name":"tmp","mountPath":"/tmp"},{"name":"wlp-output","mountPath":"/opt/ibm/wlp/output"},{"name":"kube-api-access-hrlzn","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.2","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"containerPort\":9080,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"reviews"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"reviews-v2"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/reviews-v2"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-hrlzn","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"bookinfo-reviews","serviceAccount":"bookinfo-reviews","nodeName":"k8s-vm2","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:17Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:21Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:21Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:16Z"}],"hostIP":"115.146.94.2","podIP":"192.168.2.11","podIPs":[{"ip":"192.168.2.11"}],"startTime":"2024-06-03T19:09:16Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-06-03T19:09:17Z","finishedAt":"2024-06-03T19:09:17Z","containerID":"cri-o://78d215baae5ec3bb39e7a74f703b6d6e15dfef01595070fb92d247ae9e7ab327"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.2","imageID":"4b2c96f6d71b99469fef7392cfd1d29a3c4297d22ee73697b6e4a78c878e945e","containerID":"cri-o://78d215baae5ec3bb39e7a74f703b6d6e15dfef01595070fb92d247ae9e7ab327","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2024-06-03T19:09:19Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.2","imageID":"4b2c96f6d71b99469fef7392cfd1d29a3c4297d22ee73697b6e4a78c878e945e","containerID":"cri-o://843be0bc3dc6620ab4d2047b3f444606940a735b59cfd3fdcafa854a0531df6e","started":true},{"name":"reviews","state":{"running":{"startedAt":"2024-06-03T19:09:18Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/examples-bookinfo-reviews-v2:1.18.0","imageID":"a9cede0cb6411bca1b10edc7a2326e42472930249e4c24f6b292e1e9757efef6","containerID":"cri-o://1b7ed372972f65e5e7e65a57e09caaaea754b518964e335827d2e6865e8f2461","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"reviews-v3-859b7896f-65mg5","generateName":"reviews-v3-859b7896f-","namespace":"default","uid":"0a6dabc4-cc1c-4410-833f-25234c9d6f56","resourceVersion":"27858219","creationTimestamp":"2024-06-03T19:09:16Z","labels":{"app":"reviews","pod-template-hash":"859b7896f","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"reviews","service.istio.io/canonical-revision":"v3","serviceName":"reviews-v3","version":"v3"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"reviews","kubectl.kubernetes.io/default-logs-container":"reviews","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"reviews-v3-859b7896f","uid":"78116802-61cc-40c6-8724-4d96a4119456","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2024-06-03T19:09:16Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{},"f:serviceName":{},"f:version":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"78116802-61cc-40c6-8724-4d96a4119456\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"reviews\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"LOG_DIR\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":9080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/opt/ibm/wlp/output\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"wlp-output\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2024-06-03T19:09:20Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"192.168.3.64\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"wlp-output","emptyDir":{}},{"name":"tmp","emptyDir":{}},{"name":"kube-api-access-r2tpw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.2","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-r2tpw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"reviews","image":"docker.io/istio/examples-bookinfo-reviews-v3:1.18.0","ports":[{"containerPort":9080,"protocol":"TCP"}],"env":[{"name":"LOG_DIR","value":"/tmp/logs"}],"resources":{},"volumeMounts":[{"name":"tmp","mountPath":"/tmp"},{"name":"wlp-output","mountPath":"/opt/ibm/wlp/output"},{"name":"kube-api-access-r2tpw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.2","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"containerPort\":9080,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"reviews"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"reviews-v3"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/reviews-v3"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-r2tpw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"bookinfo-reviews","serviceAccount":"bookinfo-reviews","nodeName":"k8s-vm3","securityContext":{},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:18Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:20Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:20Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2024-06-03T19:09:16Z"}],"hostIP":"115.146.93.117","podIP":"192.168.3.64","podIPs":[{"ip":"192.168.3.64"}],"startTime":"2024-06-03T19:09:16Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2024-06-03T19:09:17Z","finishedAt":"2024-06-03T19:09:17Z","containerID":"cri-o://efd9cba949a2e8d9baa0035ca45e178538772212cf5ecb34fc1c4d96d8666a98"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.2","imageID":"4b2c96f6d71b99469fef7392cfd1d29a3c4297d22ee73697b6e4a78c878e945e","containerID":"cri-o://efd9cba949a2e8d9baa0035ca45e178538772212cf5ecb34fc1c4d96d8666a98","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2024-06-03T19:09:18Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.2","imageID":"4b2c96f6d71b99469fef7392cfd1d29a3c4297d22ee73697b6e4a78c878e945e","containerID":"cri-o://f34dc381983460bd8da47a217d5dd79b852647ee9b12dd52492f12cd329f7f71","started":true},{"name":"reviews","state":{"running":{"startedAt":"2024-06-03T19:09:18Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/examples-bookinfo-reviews-v3:1.18.0","imageID":"1e8fb527a1f01c1726af32262caa88e45e9a5e100add76afb152bad7da5ffd61","containerID":"cri-o://d27b0c026e92a049d53af1259136959d1eba4f52de868cfbe3bd93673a632922","started":true}],"qosClass":"Burstable"}}]}

2024-06-04 06:24:46 - DEBUG  [dataCollector.py:149] - {'details-v1-5b68497cdb-7cdfg': 'details', 'productpage-v1-67d7f4dfd5-p57p4': 'productpage', 'ratings-v1-58f9cd4fc4-292bx': 'ratings', 'reviews-v1-dc97674d7-wdqn2': 'reviews-v1', 'reviews-v2-5dbc47c466-bg6d7': 'reviews-v2', 'reviews-v3-859b7896f-65mg5': 'reviews-v3'}
2024-06-04 06:24:46 - DEBUG  [dataCollector.py:73] - Update Started
2024-06-04 06:24:46 - DEBUG  [dataCollector.py:90] - Rate after Prom Query: {'reviews-v1': {'productpage': 0.0, 'ratings': 0.0, 'details': 0.0, 'reviews-v3': 0.0, 'reviews-v2': 0.0}, 'productpage': {'reviews-v1': 0.0, 'ratings': 0.0, 'details': 0.0, 'reviews-v3': 0.0, 'reviews-v2': 0.0}, 'ratings': {'reviews-v1': 0.0, 'productpage': 0.0, 'details': 0.0, 'reviews-v3': 0.0, 'reviews-v2': 0.0}, 'details': {'reviews-v1': 0.0, 'productpage': 0.0, 'ratings': 0.0, 'reviews-v3': 0.0, 'reviews-v2': 0.0}, 'reviews-v3': {'reviews-v1': 0.0, 'productpage': 0.0, 'ratings': 0.0, 'details': 0.0, 'reviews-v2': 0.0}, 'reviews-v2': {'reviews-v1': 0.0, 'productpage': 0.0, 'ratings': 0.0, 'details': 0.0, 'reviews-v3': 0.0}}
2024-06-04 06:24:46 - DEBUG  [dataCollector.py:91] - CPU after Prom Query: {'reviews-v1': 0.0036873944094609817, 'productpage': 0.0032578820698781156, 'ratings': 0.002201192327631051, 'details': 0.0025081737301138026, 'reviews-v3': 0.0020556685825260596, 'reviews-v2': 0.0031667446148060828}
2024-06-04 06:24:46 - DEBUG  [dataCollector.py:119] - Update Done
