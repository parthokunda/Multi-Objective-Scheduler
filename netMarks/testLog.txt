2023-12-18 15:01:49 - DEBUG  [rest.py:235] - response body: {"kind":"PodList","apiVersion":"v1","metadata":{"resourceVersion":"3639438"},"items":[{"metadata":{"name":"adservice-598cc4bb8b-9f2f9","generateName":"adservice-598cc4bb8b-","namespace":"default","uid":"40197c38-a7b1-4c18-9673-df60701aeea8","resourceVersion":"3638724","creationTimestamp":"2023-12-18T14:55:59Z","labels":{"app":"adservice","pod-template-hash":"598cc4bb8b","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"adservice","service.istio.io/canonical-revision":"latest"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"server","kubectl.kubernetes.io/default-logs-container":"server","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"adservice-598cc4bb8b","uid":"bd4eabf7-f5e5-4336-abda-9f411cd3de6f","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:55:59Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"bd4eabf7-f5e5-4336-abda-9f411cd3de6f\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"server\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"PORT\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":9555,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:allowPrivilegeEscalation":{},"f:capabilities":{".":{},"f:drop":{}},"f:privileged":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:56:56Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.4.5\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"kube-api-access-ctg68","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.0","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-ctg68","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"server","image":"gcr.io/google-samples/microservices-demo/adservice:v0.8.1","ports":[{"containerPort":9555,"protocol":"TCP"}],"env":[{"name":"PORT","value":"9555"}],"resources":{"limits":{"cpu":"500m","memory":"2Gi"},"requests":{"cpu":"200m","memory":"180Mi"}},"volumeMounts":[{"name":"kube-api-access-ctg68","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/app-health/server/livez","port":15020,"scheme":"HTTP"},"initialDelaySeconds":20,"timeoutSeconds":1,"periodSeconds":15,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/app-health/server/readyz","port":15020,"scheme":"HTTP"},"initialDelaySeconds":20,"timeoutSeconds":1,"periodSeconds":15,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.0","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"containerPort\":9555,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"server"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"adservice"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/adservice"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"},{"name":"ISTIO_KUBE_APP_PROBERS","value":"{\"/app-health/server/livez\":{\"grpc\":{\"port\":9555,\"service\":\"\"},\"timeoutSeconds\":1},\"/app-health/server/readyz\":{\"grpc\":{\"port\":9555,\"service\":\"\"},\"timeoutSeconds\":1}}"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-ctg68","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":5,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"k8s-vm5","securityContext":{"runAsUser":1000,"runAsGroup":1000,"runAsNonRoot":true,"fsGroup":1000},"schedulerName":"netMarksScheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:27Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:56Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:56Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:25Z"}],"hostIP":"115.146.92.113","podIP":"10.244.4.5","podIPs":[{"ip":"10.244.4.5"}],"startTime":"2023-12-18T14:56:25Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2023-12-18T14:56:26Z","finishedAt":"2023-12-18T14:56:26Z","containerID":"cri-o://bec27cdb7d6e5b742b681c88d40a2766b9ebcbe6d19848a7cfb023839c96d616"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://bec27cdb7d6e5b742b681c88d40a2766b9ebcbe6d19848a7cfb023839c96d616","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2023-12-18T14:56:36Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://5824b6a4ed795fbea0872286d5c65dee2ec8748130ab03151dca08cd3ecf69f7","started":true},{"name":"server","state":{"running":{"startedAt":"2023-12-18T14:56:36Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/google-samples/microservices-demo/adservice:v0.8.1","imageID":"36157e7bdefd94e3494763b74e64e3c093c4a81cd083d0ae0277f0d44a7c3c8c","containerID":"cri-o://2d0c9301cbaf8b7156cc5404491affc8b5e8afba5b751eb120c20e7c33f266ba","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"cartservice-744c994c6f-8jzdh","generateName":"cartservice-744c994c6f-","namespace":"default","uid":"9f450b90-5056-4556-8c05-40849ec4f377","resourceVersion":"3638684","creationTimestamp":"2023-12-18T14:55:58Z","labels":{"app":"cartservice","pod-template-hash":"744c994c6f","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"cartservice","service.istio.io/canonical-revision":"latest"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"server","kubectl.kubernetes.io/default-logs-container":"server","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"cartservice-744c994c6f","uid":"27e4a6fe-1c40-4c64-9e79-4865889850e0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:55:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"27e4a6fe-1c40-4c64-9e79-4865889850e0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"server\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"REDIS_ADDR\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7070,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:allowPrivilegeEscalation":{},"f:capabilities":{".":{},"f:drop":{}},"f:privileged":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:56:47Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.237\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"kube-api-access-cp6hr","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.0","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-cp6hr","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"server","image":"gcr.io/google-samples/microservices-demo/cartservice:v0.8.1","ports":[{"containerPort":7070,"protocol":"TCP"}],"env":[{"name":"REDIS_ADDR","value":"redis-cart:6379"}],"resources":{"limits":{"cpu":"500m","memory":"2Gi"},"requests":{"cpu":"200m","memory":"64Mi"}},"volumeMounts":[{"name":"kube-api-access-cp6hr","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/app-health/server/livez","port":15020,"scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/app-health/server/readyz","port":15020,"scheme":"HTTP"},"initialDelaySeconds":15,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.0","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"containerPort\":7070,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"server"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"cartservice"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/cartservice"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"},{"name":"ISTIO_KUBE_APP_PROBERS","value":"{\"/app-health/server/livez\":{\"grpc\":{\"port\":7070,\"service\":\"\"},\"timeoutSeconds\":1},\"/app-health/server/readyz\":{\"grpc\":{\"port\":7070,\"service\":\"\"},\"timeoutSeconds\":1}}"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-cp6hr","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":5,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"k8s-vm2","securityContext":{"runAsUser":1000,"runAsGroup":1000,"runAsNonRoot":true,"fsGroup":1000},"schedulerName":"netMarksScheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:27Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:47Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:47Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:26Z"}],"hostIP":"115.146.94.2","podIP":"10.244.2.237","podIPs":[{"ip":"10.244.2.237"}],"startTime":"2023-12-18T14:56:26Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2023-12-18T14:56:27Z","finishedAt":"2023-12-18T14:56:27Z","containerID":"cri-o://564ed7ee81943801ae349cf9f735ae3b460ac0c6be383704c8eac44625045798"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://564ed7ee81943801ae349cf9f735ae3b460ac0c6be383704c8eac44625045798","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2023-12-18T14:56:27Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://635c7a668b6e9e152f29e7d334e7a2d990843c532ec5fa937f0c97e12f3a68ca","started":true},{"name":"server","state":{"running":{"startedAt":"2023-12-18T14:56:27Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/google-samples/microservices-demo/cartservice:v0.8.1","imageID":"6ace0d603008711f2e12e91ac18c2e582dbc007364ac7b415dcd7ac2ab8e6f2e","containerID":"cri-o://2f93b844a9e62a842630c044fb2ddf23e4830d807a796982c87a5abce86ed32c","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"checkoutservice-6d649676cd-hxd6m","generateName":"checkoutservice-6d649676cd-","namespace":"default","uid":"a12263e7-3192-4184-801f-60a358b8888b","resourceVersion":"3638517","creationTimestamp":"2023-12-18T14:55:57Z","labels":{"app":"checkoutservice","pod-template-hash":"6d649676cd","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"checkoutservice","service.istio.io/canonical-revision":"latest"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"server","kubectl.kubernetes.io/default-logs-container":"server","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"checkoutservice-6d649676cd","uid":"855908f4-3fe2-4468-be19-eb7958af86e9","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:55:57Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"855908f4-3fe2-4468-be19-eb7958af86e9\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"server\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"CART_SERVICE_ADDR\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CURRENCY_SERVICE_ADDR\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"EMAIL_SERVICE_ADDR\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"PAYMENT_SERVICE_ADDR\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"PORT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"PRODUCT_CATALOG_SERVICE_ADDR\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"SHIPPING_SERVICE_ADDR\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":5050,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:allowPrivilegeEscalation":{},"f:capabilities":{".":{},"f:drop":{}},"f:privileged":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:56:30Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.3.29\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"kube-api-access-jhcl5","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.0","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-jhcl5","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"server","image":"gcr.io/google-samples/microservices-demo/checkoutservice:v0.8.1","ports":[{"containerPort":5050,"protocol":"TCP"}],"env":[{"name":"PORT","value":"5050"},{"name":"PRODUCT_CATALOG_SERVICE_ADDR","value":"productcatalogservice:3550"},{"name":"SHIPPING_SERVICE_ADDR","value":"shippingservice:50051"},{"name":"PAYMENT_SERVICE_ADDR","value":"paymentservice:50051"},{"name":"EMAIL_SERVICE_ADDR","value":"emailservice:5000"},{"name":"CURRENCY_SERVICE_ADDR","value":"currencyservice:7000"},{"name":"CART_SERVICE_ADDR","value":"cartservice:7070"}],"resources":{"limits":{"cpu":"500m","memory":"2Gi"},"requests":{"cpu":"100m","memory":"64Mi"}},"volumeMounts":[{"name":"kube-api-access-jhcl5","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/app-health/server/livez","port":15020,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/app-health/server/readyz","port":15020,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.0","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"containerPort\":5050,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"server"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"checkoutservice"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/checkoutservice"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"},{"name":"ISTIO_KUBE_APP_PROBERS","value":"{\"/app-health/server/livez\":{\"grpc\":{\"port\":5050,\"service\":\"\"},\"timeoutSeconds\":1},\"/app-health/server/readyz\":{\"grpc\":{\"port\":5050,\"service\":\"\"},\"timeoutSeconds\":1}}"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-jhcl5","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"k8s-vm1","securityContext":{"runAsUser":1000,"runAsGroup":1000,"runAsNonRoot":true,"fsGroup":1000},"schedulerName":"netMarksScheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:28Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:30Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:30Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:27Z"}],"hostIP":"115.146.93.61","podIP":"10.244.3.29","podIPs":[{"ip":"10.244.3.29"}],"startTime":"2023-12-18T14:56:27Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2023-12-18T14:56:27Z","finishedAt":"2023-12-18T14:56:27Z","containerID":"cri-o://aeade03ff2e49e6d64dae44bef3eb342ef5fc21efd2bc3ba64a3ede603edbf57"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://aeade03ff2e49e6d64dae44bef3eb342ef5fc21efd2bc3ba64a3ede603edbf57","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2023-12-18T14:56:28Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://99bd4ccd4142cd5cd5955757bec69f13cc8db8da76bb8853ae72cf018989d8ee","started":true},{"name":"server","state":{"running":{"startedAt":"2023-12-18T14:56:28Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/google-samples/microservices-demo/checkoutservice:v0.8.1","imageID":"168322ad21d47b6a574aa726e69317f503235cf25909558681cb4757bec79676","containerID":"cri-o://e06e87e3f447c51916a077d9233c33032cc3d55c57de8a07e2514ab69d103ef9","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"currencyservice-8f97ccf78-58qz5","generateName":"currencyservice-8f97ccf78-","namespace":"default","uid":"0d834968-9f65-4689-a8ee-6f918d93cc21","resourceVersion":"3638532","creationTimestamp":"2023-12-18T14:55:58Z","labels":{"app":"currencyservice","pod-template-hash":"8f97ccf78","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"currencyservice","service.istio.io/canonical-revision":"latest"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"server","kubectl.kubernetes.io/default-logs-container":"server","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"currencyservice-8f97ccf78","uid":"0d76a521-39dc-4f1a-86c1-e64aaeec2d36","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:55:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"0d76a521-39dc-4f1a-86c1-e64aaeec2d36\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"server\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"DISABLE_PROFILER\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"PORT\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":7000,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:allowPrivilegeEscalation":{},"f:capabilities":{".":{},"f:drop":{}},"f:privileged":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:56:31Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.1.225\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"kube-api-access-ndtxb","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.0","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-ndtxb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"server","image":"gcr.io/google-samples/microservices-demo/currencyservice:v0.8.1","ports":[{"name":"grpc","containerPort":7000,"protocol":"TCP"}],"env":[{"name":"PORT","value":"7000"},{"name":"DISABLE_PROFILER","value":"1"}],"resources":{"limits":{"cpu":"500m","memory":"2Gi"},"requests":{"cpu":"100m","memory":"64Mi"}},"volumeMounts":[{"name":"kube-api-access-ndtxb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/app-health/server/livez","port":15020,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/app-health/server/readyz","port":15020,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.0","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"name\":\"grpc\",\"containerPort\":7000,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"server"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"currencyservice"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/currencyservice"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"},{"name":"ISTIO_KUBE_APP_PROBERS","value":"{\"/app-health/server/livez\":{\"grpc\":{\"port\":7000,\"service\":\"\"},\"timeoutSeconds\":1},\"/app-health/server/readyz\":{\"grpc\":{\"port\":7000,\"service\":\"\"},\"timeoutSeconds\":1}}"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-ndtxb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":5,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"k8s-vm3","securityContext":{"runAsUser":1000,"runAsGroup":1000,"runAsNonRoot":true,"fsGroup":1000},"schedulerName":"netMarksScheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:29Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:31Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:31Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:28Z"}],"hostIP":"115.146.93.117","podIP":"10.244.1.225","podIPs":[{"ip":"10.244.1.225"}],"startTime":"2023-12-18T14:56:28Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2023-12-18T14:56:28Z","finishedAt":"2023-12-18T14:56:28Z","containerID":"cri-o://37b64a305fa80e7444368bb5724b73f46e2bfa608a9b457cfc5ee19beef863bd"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://37b64a305fa80e7444368bb5724b73f46e2bfa608a9b457cfc5ee19beef863bd","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2023-12-18T14:56:29Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://7ad34b7ba8897636922c193661002537ac7b967b20ab1ca9442555def1596350","started":true},{"name":"server","state":{"running":{"startedAt":"2023-12-18T14:56:29Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/google-samples/microservices-demo/currencyservice:v0.8.1","imageID":"d253027e81ce3de8cbf276e0da7145130120cf1102395860a1b9791212787fd7","containerID":"cri-o://202138edff66ab8653454441ebbddd09a84de2ec2459aa99f3f77251a5cc2505","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"emailservice-684d858f44-hssbr","generateName":"emailservice-684d858f44-","namespace":"default","uid":"a380513f-2f71-4c42-9970-c7b33b4788c3","resourceVersion":"3638679","creationTimestamp":"2023-12-18T14:55:57Z","labels":{"app":"emailservice","pod-template-hash":"684d858f44","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"emailservice","service.istio.io/canonical-revision":"latest"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"server","kubectl.kubernetes.io/default-logs-container":"server","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"emailservice-684d858f44","uid":"eaaf859a-6385-4f34-8e69-2febd99216d0","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:55:57Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"eaaf859a-6385-4f34-8e69-2febd99216d0\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"server\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"DISABLE_PROFILER\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"PORT\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:allowPrivilegeEscalation":{},"f:capabilities":{".":{},"f:drop":{}},"f:privileged":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:56:47Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.4.6\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"kube-api-access-dqm4z","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.0","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-dqm4z","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"server","image":"gcr.io/google-samples/microservices-demo/emailservice:v0.8.1","ports":[{"containerPort":8080,"protocol":"TCP"}],"env":[{"name":"PORT","value":"8080"},{"name":"DISABLE_PROFILER","value":"1"}],"resources":{"limits":{"cpu":"500m","memory":"2Gi"},"requests":{"cpu":"100m","memory":"64Mi"}},"volumeMounts":[{"name":"kube-api-access-dqm4z","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/app-health/server/livez","port":15020,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/app-health/server/readyz","port":15020,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.0","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"containerPort\":8080,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"server"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"emailservice"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/emailservice"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"},{"name":"ISTIO_KUBE_APP_PROBERS","value":"{\"/app-health/server/livez\":{\"grpc\":{\"port\":8080,\"service\":\"\"},\"timeoutSeconds\":1},\"/app-health/server/readyz\":{\"grpc\":{\"port\":8080,\"service\":\"\"},\"timeoutSeconds\":1}}"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-dqm4z","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":5,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"k8s-vm5","securityContext":{"runAsUser":1000,"runAsGroup":1000,"runAsNonRoot":true,"fsGroup":1000},"schedulerName":"netMarksScheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:30Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:47Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:47Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:28Z"}],"hostIP":"115.146.92.113","podIP":"10.244.4.6","podIPs":[{"ip":"10.244.4.6"}],"startTime":"2023-12-18T14:56:29Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2023-12-18T14:56:29Z","finishedAt":"2023-12-18T14:56:29Z","containerID":"cri-o://7af6b19ff7ad8338178736650f011cd4e83d10eb75bb9338b28c9031ded103b0"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://7af6b19ff7ad8338178736650f011cd4e83d10eb75bb9338b28c9031ded103b0","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2023-12-18T14:56:45Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://a4ac610e138acdb93aeee551eebc21f40f37af88d4adf66bcabf600f2f56e58e","started":true},{"name":"server","state":{"running":{"startedAt":"2023-12-18T14:56:45Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/google-samples/microservices-demo/emailservice:v0.8.1","imageID":"d7d60612b0f8ba391c3c50438f37a948d0b14c22a33cd3186c5a71df355fee6d","containerID":"cri-o://be6baa5d26dcdda7c47b648091a640698e78a42343da17844b1127d4022862c7","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"frontend-5bcc5575f4-xlcn7","generateName":"frontend-5bcc5575f4-","namespace":"default","uid":"86ffb7d3-7473-4896-9d0e-a2fa57a2679b","resourceVersion":"3638697","creationTimestamp":"2023-12-18T14:55:58Z","labels":{"app":"frontend","pod-template-hash":"5bcc5575f4","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"frontend","service.istio.io/canonical-revision":"latest"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"server","kubectl.kubernetes.io/default-logs-container":"server","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/rewriteAppHTTPProbers":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"frontend-5bcc5575f4","uid":"ec0088e1-8da0-4484-8439-859bbafa27c6","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:55:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:sidecar.istio.io/rewriteAppHTTPProbers":{}},"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"ec0088e1-8da0-4484-8439-859bbafa27c6\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"server\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"AD_SERVICE_ADDR\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CART_SERVICE_ADDR\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CHECKOUT_SERVICE_ADDR\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CURRENCY_SERVICE_ADDR\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"ENABLE_PROFILER\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"PORT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"PRODUCT_CATALOG_SERVICE_ADDR\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RECOMMENDATION_SERVICE_ADDR\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"SHIPPING_SERVICE_ADDR\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:httpHeaders":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:httpHeaders":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:allowPrivilegeEscalation":{},"f:capabilities":{".":{},"f:drop":{}},"f:privileged":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:56:50Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.3.30\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"kube-api-access-9w4h8","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.0","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-9w4h8","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"server","image":"gcr.io/google-samples/microservices-demo/frontend:v0.8.1","ports":[{"containerPort":8080,"protocol":"TCP"}],"env":[{"name":"PORT","value":"8080"},{"name":"PRODUCT_CATALOG_SERVICE_ADDR","value":"productcatalogservice:3550"},{"name":"CURRENCY_SERVICE_ADDR","value":"currencyservice:7000"},{"name":"CART_SERVICE_ADDR","value":"cartservice:7070"},{"name":"RECOMMENDATION_SERVICE_ADDR","value":"recommendationservice:8080"},{"name":"SHIPPING_SERVICE_ADDR","value":"shippingservice:50051"},{"name":"CHECKOUT_SERVICE_ADDR","value":"checkoutservice:5050"},{"name":"AD_SERVICE_ADDR","value":"adservice:9555"},{"name":"ENABLE_PROFILER","value":"0"}],"resources":{"limits":{"cpu":"500m","memory":"2Gi"},"requests":{"cpu":"100m","memory":"64Mi"}},"volumeMounts":[{"name":"kube-api-access-9w4h8","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/app-health/server/livez","port":15020,"scheme":"HTTP","httpHeaders":[{"name":"Cookie","value":"shop_session-id=x-liveness-probe"}]},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/app-health/server/readyz","port":15020,"scheme":"HTTP","httpHeaders":[{"name":"Cookie","value":"shop_session-id=x-readiness-probe"}]},"initialDelaySeconds":10,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.0","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"containerPort\":8080,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"server"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"frontend"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/frontend"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"},{"name":"ISTIO_KUBE_APP_PROBERS","value":"{\"/app-health/server/livez\":{\"httpGet\":{\"path\":\"/_healthz\",\"port\":8080,\"scheme\":\"HTTP\",\"httpHeaders\":[{\"name\":\"Cookie\",\"value\":\"shop_session-id=x-liveness-probe\"}]},\"timeoutSeconds\":1},\"/app-health/server/readyz\":{\"httpGet\":{\"path\":\"/_healthz\",\"port\":8080,\"scheme\":\"HTTP\",\"httpHeaders\":[{\"name\":\"Cookie\",\"value\":\"shop_session-id=x-readiness-probe\"}]},\"timeoutSeconds\":1}}"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-9w4h8","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"k8s-vm1","securityContext":{"runAsUser":1000,"runAsGroup":1000,"runAsNonRoot":true,"fsGroup":1000},"schedulerName":"netMarksScheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:31Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:50Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:50Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:30Z"}],"hostIP":"115.146.93.61","podIP":"10.244.3.30","podIPs":[{"ip":"10.244.3.30"}],"startTime":"2023-12-18T14:56:30Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2023-12-18T14:56:30Z","finishedAt":"2023-12-18T14:56:30Z","containerID":"cri-o://532aeade772d20c8873a0009492434d0a9e5a515d9f239f0def054d401ec5a4d"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://532aeade772d20c8873a0009492434d0a9e5a515d9f239f0def054d401ec5a4d","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2023-12-18T14:56:31Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://87118ef0e4d2d742a16e19122a78334ee9a7466c61c9c13a4872a25216a2cce8","started":true},{"name":"server","state":{"running":{"startedAt":"2023-12-18T14:56:31Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/google-samples/microservices-demo/frontend:v0.8.1","imageID":"76075c50e3cd71c578f00e65d5957d78fd7e76114cbb15aa2976dd9cef67dc01","containerID":"cri-o://d6c6e6c9ded4d4d83780b3060a23e6ed9ca7819704fbb1ef2045725a69690f5b","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"loadgenerator-bfbfd744d-k6wmk","generateName":"loadgenerator-bfbfd744d-","namespace":"default","uid":"ed8248cb-288d-4d0a-aa47-cf6726645db7","resourceVersion":"3638873","creationTimestamp":"2023-12-18T14:55:58Z","labels":{"app":"loadgenerator","pod-template-hash":"bfbfd744d","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"loadgenerator","service.istio.io/canonical-revision":"latest"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"main","kubectl.kubernetes.io/default-logs-container":"main","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/rewriteAppHTTPProbers":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"loadgenerator-bfbfd744d","uid":"9092848a-8704-49c8-9599-ab8fdf52ed76","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:55:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:sidecar.istio.io/rewriteAppHTTPProbers":{}},"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"9092848a-8704-49c8-9599-ab8fdf52ed76\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"main\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"FRONTEND_ADDR\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"USERS\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:allowPrivilegeEscalation":{},"f:capabilities":{".":{},"f:drop":{}},"f:privileged":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:initContainers":{".":{},"k:{\"name\":\"frontend-check\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"FRONTEND_ADDR\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:allowPrivilegeEscalation":{},"f:capabilities":{".":{},"f:drop":{}},"f:privileged":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:57:34Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.4.7\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"kube-api-access-mvkhw","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"frontend-check","image":"busybox:latest","command":["/bin/sh","-exc","echo \"Init container pinging frontend: ${FRONTEND_ADDR}...\"\nSTATUSCODE=$(wget --server-response http://${FRONTEND_ADDR} 2\u003e\u00261 | awk '/^  HTTP/{print $2}')\nif test $STATUSCODE -ne 200; then\n    echo \"Error: Could not reach frontend - Status code: ${STATUSCODE}\"\n    exit 1\nfi\n"],"env":[{"name":"FRONTEND_ADDR","value":"frontend:80"}],"resources":{},"volumeMounts":[{"name":"kube-api-access-mvkhw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}},{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.0","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-mvkhw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"main","image":"gcr.io/google-samples/microservices-demo/loadgenerator:v0.8.1","env":[{"name":"FRONTEND_ADDR","value":"frontend:80"},{"name":"USERS","value":"10"}],"resources":{"limits":{"cpu":"1","memory":"2Gi"},"requests":{"cpu":"300m","memory":"256Mi"}},"volumeMounts":[{"name":"kube-api-access-mvkhw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.0","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"main"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"loadgenerator"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/loadgenerator"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-mvkhw","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":5,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"k8s-vm5","securityContext":{"runAsUser":1000,"runAsGroup":1000,"runAsNonRoot":true,"fsGroup":1000},"schedulerName":"netMarksScheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:57:22Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:57:34Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:57:34Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:31Z"}],"hostIP":"115.146.92.113","podIP":"10.244.4.7","podIPs":[{"ip":"10.244.4.7"}],"startTime":"2023-12-18T14:56:31Z","initContainerStatuses":[{"name":"frontend-check","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2023-12-18T14:57:20Z","finishedAt":"2023-12-18T14:57:20Z","containerID":"cri-o://0517b103d258a1668249e0d686dac97104edf19e032f9c4080c29e9e316adb89"}},"lastState":{},"ready":true,"restartCount":1,"image":"docker.io/library/busybox:latest","imageID":"f5fb98afcf9f5c6e8e069557f605b15b52643166c82ac5695f49fc6b0be04ee8","containerID":"cri-o://0517b103d258a1668249e0d686dac97104edf19e032f9c4080c29e9e316adb89","started":false},{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2023-12-18T14:57:21Z","finishedAt":"2023-12-18T14:57:21Z","containerID":"cri-o://b6154e2eb29ee5ae06112271b62c50fc6061db19bb84b203d2946fbfd3da5668"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://b6154e2eb29ee5ae06112271b62c50fc6061db19bb84b203d2946fbfd3da5668","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2023-12-18T14:57:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://19a855b08ed977fa95f3c088ffa8222b850af49c5c25f8b1466d56c96c500ffb","started":true},{"name":"main","state":{"running":{"startedAt":"2023-12-18T14:57:32Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/google-samples/microservices-demo/loadgenerator:v0.8.1","imageID":"9ffe076a595c7067e665e60a1625d2e0141832eceb67dbc6aba4f3ea78d7df6c","containerID":"cri-o://b2e999fdb0397fdb7ff4c069e3e92196bf033deec3b35347f3608c1643383048","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"loki-0","generateName":"loki-","namespace":"default","uid":"b529b739-2f5b-4f03-8542-d7084d60bdd9","resourceVersion":"3638825","creationTimestamp":"2023-12-10T14:50:18Z","labels":{"app.kubernetes.io/component":"single-binary","app.kubernetes.io/instance":"loki","app.kubernetes.io/name":"loki","app.kubernetes.io/part-of":"memberlist","apps.kubernetes.io/pod-index":"0","controller-revision-hash":"loki-588477b7cf","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"loki","service.istio.io/canonical-revision":"latest","statefulset.kubernetes.io/pod-name":"loki-0"},"annotations":{"checksum/config":"a9239b6352e34bbfc748669ed46cb24211fc3491ee7f2c6381af805f8f08fe29","istio.io/rev":"default","kubectl.kubernetes.io/default-container":"loki","kubectl.kubernetes.io/default-logs-container":"loki","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"StatefulSet","name":"loki","uid":"da48cf13-db50-4d51-b429-82a1ae405411","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-12-10T14:50:18Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:checksum/config":{}},"f:generateName":{},"f:labels":{".":{},"f:app.kubernetes.io/component":{},"f:app.kubernetes.io/instance":{},"f:app.kubernetes.io/name":{},"f:app.kubernetes.io/part-of":{},"f:apps.kubernetes.io/pod-index":{},"f:controller-revision-hash":{},"f:statefulset.kubernetes.io/pod-name":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"da48cf13-db50-4d51-b429-82a1ae405411\"}":{}}},"f:spec":{"f:affinity":{".":{},"f:podAntiAffinity":{".":{},"f:requiredDuringSchedulingIgnoredDuringExecution":{}}},"f:automountServiceAccountToken":{},"f:containers":{"k:{\"name\":\"loki\"}":{".":{},"f:args":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":3100,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":7946,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}},"k:{\"containerPort\":9095,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:name":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:httpGet":{".":{},"f:path":{},"f:port":{},"f:scheme":{}},"f:initialDelaySeconds":{},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{},"f:securityContext":{".":{},"f:allowPrivilegeEscalation":{},"f:capabilities":{".":{},"f:drop":{}},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/etc/loki/config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/etc/loki/runtime-config\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/var/loki\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:hostname":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:subdomain":{},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"runtime-config\"}":{".":{},"f:configMap":{".":{},"f:defaultMode":{},"f:name":{}},"f:name":{}},"k:{\"name\":\"storage\"}":{".":{},"f:name":{},"f:persistentVolumeClaim":{".":{},"f:claimName":{}}},"k:{\"name\":\"tmp\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kube-scheduler","operation":"Update","apiVersion":"v1","time":"2023-12-11T05:51:10Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{".":{},"k:{\"type\":\"PodScheduled\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}}}},"subresource":"status"},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:57:20Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:message":{},"f:reason":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.3.110\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"storage","persistentVolumeClaim":{"claimName":"storage-loki-0"}},{"name":"tmp","emptyDir":{}},{"name":"config","configMap":{"name":"loki","defaultMode":420}},{"name":"runtime-config","configMap":{"name":"loki-runtime","defaultMode":420}},{"name":"kube-api-access-zhrq7","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.0","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-zhrq7","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"loki","image":"docker.io/grafana/loki:2.7.3","args":["-config.file=/etc/loki/config/config.yaml","-target=all"],"ports":[{"name":"http-metrics","containerPort":3100,"protocol":"TCP"},{"name":"grpc","containerPort":9095,"protocol":"TCP"},{"name":"http-memberlist","containerPort":7946,"protocol":"TCP"}],"resources":{},"volumeMounts":[{"name":"tmp","mountPath":"/tmp"},{"name":"config","mountPath":"/etc/loki/config"},{"name":"runtime-config","mountPath":"/etc/loki/runtime-config"},{"name":"storage","mountPath":"/var/loki"},{"name":"kube-api-access-zhrq7","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/app-health/loki/readyz","port":15020,"scheme":"HTTP"},"initialDelaySeconds":30,"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"Always","securityContext":{"capabilities":{"drop":["ALL"]},"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.0","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"name\":\"http-metrics\",\"containerPort\":3100,\"protocol\":\"TCP\"}\n    ,{\"name\":\"grpc\",\"containerPort\":9095,\"protocol\":\"TCP\"}\n    ,{\"name\":\"http-memberlist\",\"containerPort\":7946,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"loki"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"loki"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/statefulsets/loki"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"},{"name":"ISTIO_KUBE_APP_PROBERS","value":"{\"/app-health/loki/readyz\":{\"httpGet\":{\"path\":\"/ready\",\"port\":3100,\"scheme\":\"HTTP\"},\"timeoutSeconds\":1}}"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-zhrq7","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"loki","serviceAccount":"loki","automountServiceAccountToken":true,"nodeName":"k8s-vm1","securityContext":{"runAsUser":10001,"runAsGroup":10001,"runAsNonRoot":true,"fsGroup":10001},"hostname":"loki-0","subdomain":"loki-headless","affinity":{"podAntiAffinity":{"requiredDuringSchedulingIgnoredDuringExecution":[{"labelSelector":{"matchLabels":{"app.kubernetes.io/component":"single-binary","app.kubernetes.io/instance":"loki","app.kubernetes.io/name":"loki"}},"topologyKey":"kubernetes.io/hostname"}]}},"schedulerName":"default-scheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-11T05:52:15Z"},{"type":"Ready","status":"False","lastProbeTime":null,"lastTransitionTime":"2023-12-11T05:52:14Z","reason":"ContainersNotReady","message":"containers with unready status: [loki]"},{"type":"ContainersReady","status":"False","lastProbeTime":null,"lastTransitionTime":"2023-12-11T05:52:14Z","reason":"ContainersNotReady","message":"containers with unready status: [loki]"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-11T05:52:14Z"}],"hostIP":"115.146.93.61","podIP":"10.244.3.110","podIPs":[{"ip":"10.244.3.110"}],"startTime":"2023-12-11T05:52:14Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2023-12-11T05:52:14Z","finishedAt":"2023-12-11T05:52:14Z","containerID":"cri-o://b72403fd1212b032315e92517c44c58bfbca8c04b224c97131a71409e42f010e"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://b72403fd1212b032315e92517c44c58bfbca8c04b224c97131a71409e42f010e","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2023-12-11T05:52:18Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://21ae024539dfc8be5640e86541c7aafdb4945a0e27cecaa8f7e62fd7f168e668","started":true},{"name":"loki","state":{"waiting":{"reason":"CrashLoopBackOff","message":"back-off 5m0s restarting failed container=loki pod=loki-0_default(b529b739-2f5b-4f03-8542-d7084d60bdd9)"}},"lastState":{"terminated":{"exitCode":1,"reason":"Error","startedAt":"2023-12-18T14:57:16Z","finishedAt":"2023-12-18T14:57:16Z","containerID":"cri-o://5eb89bc0a5d9015ee7b0b80f391d79db2292d26c09bb9791108bd69bcb2d11f9"}},"ready":false,"restartCount":2071,"image":"docker.io/grafana/loki:2.7.3","imageID":"0a7fd5b2c85c883937e43fc4de280a590e7c9e3017041049359f7cec365f5453","containerID":"cri-o://5eb89bc0a5d9015ee7b0b80f391d79db2292d26c09bb9791108bd69bcb2d11f9","started":false}],"qosClass":"Burstable"}},{"metadata":{"name":"paymentservice-7985588c4d-cb99n","generateName":"paymentservice-7985588c4d-","namespace":"default","uid":"39852820-4c39-4496-9a0e-0e6cb6d9f89e","resourceVersion":"3638753","creationTimestamp":"2023-12-18T14:55:58Z","labels":{"app":"paymentservice","pod-template-hash":"7985588c4d","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"paymentservice","service.istio.io/canonical-revision":"latest"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"server","kubectl.kubernetes.io/default-logs-container":"server","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"paymentservice-7985588c4d","uid":"49796a5d-5893-4177-853a-1de0342219da","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:55:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"49796a5d-5893-4177-853a-1de0342219da\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"server\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"DISABLE_PROFILER\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"PORT\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":50051,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:allowPrivilegeEscalation":{},"f:capabilities":{".":{},"f:drop":{}},"f:privileged":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:57:04Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.4.8\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"kube-api-access-l68sf","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.0","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-l68sf","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"server","image":"gcr.io/google-samples/microservices-demo/paymentservice:v0.8.1","ports":[{"containerPort":50051,"protocol":"TCP"}],"env":[{"name":"PORT","value":"50051"},{"name":"DISABLE_PROFILER","value":"1"}],"resources":{"limits":{"cpu":"500m","memory":"2Gi"},"requests":{"cpu":"100m","memory":"64Mi"}},"volumeMounts":[{"name":"kube-api-access-l68sf","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/app-health/server/livez","port":15020,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/app-health/server/readyz","port":15020,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.0","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"containerPort\":50051,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"server"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"paymentservice"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/paymentservice"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"},{"name":"ISTIO_KUBE_APP_PROBERS","value":"{\"/app-health/server/livez\":{\"grpc\":{\"port\":50051,\"service\":\"\"},\"timeoutSeconds\":1},\"/app-health/server/readyz\":{\"grpc\":{\"port\":50051,\"service\":\"\"},\"timeoutSeconds\":1}}"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-l68sf","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":5,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"k8s-vm5","securityContext":{"runAsUser":1000,"runAsGroup":1000,"runAsNonRoot":true,"fsGroup":1000},"schedulerName":"netMarksScheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:34Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:57:04Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:57:04Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:32Z"}],"hostIP":"115.146.92.113","podIP":"10.244.4.8","podIPs":[{"ip":"10.244.4.8"}],"startTime":"2023-12-18T14:56:32Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2023-12-18T14:56:33Z","finishedAt":"2023-12-18T14:56:33Z","containerID":"cri-o://0d5687084e04a09f433cc272a94a58d4d71f6cd24cbddef778a98b6804985c93"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://0d5687084e04a09f433cc272a94a58d4d71f6cd24cbddef778a98b6804985c93","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2023-12-18T14:57:02Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://c3a96697abebd18baa8573ea04d77ac329819f4dc804eac53adf915a30075b5b","started":true},{"name":"server","state":{"running":{"startedAt":"2023-12-18T14:57:01Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/google-samples/microservices-demo/paymentservice:v0.8.1","imageID":"37dbbc515d70eced9983fea15cb2ceb9ea9b810621fee9a60d6b286ebd88ea73","containerID":"cri-o://7df04c3a4587067d215a51e11c94891f638050be128e54420a98f21385823838","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"productcatalogservice-84766477fd-fw5fw","generateName":"productcatalogservice-84766477fd-","namespace":"default","uid":"99a00867-9303-4017-b3d4-37231f4ae1cf","resourceVersion":"3638622","creationTimestamp":"2023-12-18T14:55:58Z","labels":{"app":"productcatalogservice","pod-template-hash":"84766477fd","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"productcatalogservice","service.istio.io/canonical-revision":"latest"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"server","kubectl.kubernetes.io/default-logs-container":"server","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"productcatalogservice-84766477fd","uid":"0609a21c-df61-4d39-b64b-f96ca314a811","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:55:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"0609a21c-df61-4d39-b64b-f96ca314a811\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"server\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"DISABLE_PROFILER\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"PORT\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":3550,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:allowPrivilegeEscalation":{},"f:capabilities":{".":{},"f:drop":{}},"f:privileged":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:56:37Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.2.238\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"kube-api-access-9rrf2","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.0","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-9rrf2","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"server","image":"gcr.io/google-samples/microservices-demo/productcatalogservice:v0.8.1","ports":[{"containerPort":3550,"protocol":"TCP"}],"env":[{"name":"PORT","value":"3550"},{"name":"DISABLE_PROFILER","value":"1"}],"resources":{"limits":{"cpu":"500m","memory":"2Gi"},"requests":{"cpu":"100m","memory":"64Mi"}},"volumeMounts":[{"name":"kube-api-access-9rrf2","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/app-health/server/livez","port":15020,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/app-health/server/readyz","port":15020,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.0","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"containerPort\":3550,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"server"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"productcatalogservice"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/productcatalogservice"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"},{"name":"ISTIO_KUBE_APP_PROBERS","value":"{\"/app-health/server/livez\":{\"grpc\":{\"port\":3550,\"service\":\"\"},\"timeoutSeconds\":1},\"/app-health/server/readyz\":{\"grpc\":{\"port\":3550,\"service\":\"\"},\"timeoutSeconds\":1}}"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-9rrf2","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":5,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"k8s-vm2","securityContext":{"runAsUser":1000,"runAsGroup":1000,"runAsNonRoot":true,"fsGroup":1000},"schedulerName":"netMarksScheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:35Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:37Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:37Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:33Z"}],"hostIP":"115.146.94.2","podIP":"10.244.2.238","podIPs":[{"ip":"10.244.2.238"}],"startTime":"2023-12-18T14:56:33Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2023-12-18T14:56:34Z","finishedAt":"2023-12-18T14:56:34Z","containerID":"cri-o://c07268f6198a5e8a31cda599f30e6493305ac5439f685ce5e594950f8fbfa9ed"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://c07268f6198a5e8a31cda599f30e6493305ac5439f685ce5e594950f8fbfa9ed","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2023-12-18T14:56:35Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://ee35af9373556419493db21bdff71c9286077194b2185562d896ee5021910bc0","started":true},{"name":"server","state":{"running":{"startedAt":"2023-12-18T14:56:35Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/google-samples/microservices-demo/productcatalogservice:v0.8.1","imageID":"46986006dc61ae674172567e5419c281618dd8a4cc23a87524ff91600a5aed33","containerID":"cri-o://106da0ced827c87e989f9cce9f6e189a93156fff895ae50ca775321e4899e904","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"recommendationservice-fcf7d4d64-64n6g","generateName":"recommendationservice-fcf7d4d64-","namespace":"default","uid":"09bd4299-2e9d-497b-9915-7f99764e55d2","resourceVersion":"3638785","creationTimestamp":"2023-12-18T14:55:58Z","labels":{"app":"recommendationservice","pod-template-hash":"fcf7d4d64","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"recommendationservice","service.istio.io/canonical-revision":"latest"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"server","kubectl.kubernetes.io/default-logs-container":"server","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"recommendationservice-fcf7d4d64","uid":"14c10b2b-be02-4373-bc51-31ed657ca1f6","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:55:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"14c10b2b-be02-4373-bc51-31ed657ca1f6\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"server\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"DISABLE_PROFILER\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"PORT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"PRODUCT_CATALOG_SERVICE_ADDR\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8080,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:allowPrivilegeEscalation":{},"f:capabilities":{".":{},"f:drop":{}},"f:privileged":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:57:12Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.4.9\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"kube-api-access-r24jb","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.0","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-r24jb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"server","image":"gcr.io/google-samples/microservices-demo/recommendationservice:v0.8.1","ports":[{"containerPort":8080,"protocol":"TCP"}],"env":[{"name":"PORT","value":"8080"},{"name":"PRODUCT_CATALOG_SERVICE_ADDR","value":"productcatalogservice:3550"},{"name":"DISABLE_PROFILER","value":"1"}],"resources":{"limits":{"cpu":"500m","memory":"3Gi"},"requests":{"cpu":"100m","memory":"220Mi"}},"volumeMounts":[{"name":"kube-api-access-r24jb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/app-health/server/livez","port":15020,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/app-health/server/readyz","port":15020,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.0","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"containerPort\":8080,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"server"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"recommendationservice"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/recommendationservice"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"},{"name":"ISTIO_KUBE_APP_PROBERS","value":"{\"/app-health/server/livez\":{\"grpc\":{\"port\":8080,\"service\":\"\"},\"timeoutSeconds\":1},\"/app-health/server/readyz\":{\"grpc\":{\"port\":8080,\"service\":\"\"},\"timeoutSeconds\":1}}"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-r24jb","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":5,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"k8s-vm5","securityContext":{"runAsUser":1000,"runAsGroup":1000,"runAsNonRoot":true,"fsGroup":1000},"schedulerName":"netMarksScheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:36Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:57:12Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:57:12Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:34Z"}],"hostIP":"115.146.92.113","podIP":"10.244.4.9","podIPs":[{"ip":"10.244.4.9"}],"startTime":"2023-12-18T14:56:34Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2023-12-18T14:56:35Z","finishedAt":"2023-12-18T14:56:35Z","containerID":"cri-o://f5b795d96e6f225e1037e4beee8a6397f56ad550e6d53dec1fbb88b6f5172c04"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://f5b795d96e6f225e1037e4beee8a6397f56ad550e6d53dec1fbb88b6f5172c04","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2023-12-18T14:57:10Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://167d748f029d18f207d9d60ea0ca1b9461e0fd166eb57b6f5870ef5841d89845","started":true},{"name":"server","state":{"running":{"startedAt":"2023-12-18T14:57:10Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/google-samples/microservices-demo/recommendationservice:v0.8.1","imageID":"67565f3131b0523bc13914f96ed431ce7a49a0eaf7384df0eabcb9f31e8b0ed9","containerID":"cri-o://46ef064c2f2be1dd2b22800d81d8810a4187a3e76b301a3e90eda8a656d1d2bd","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"redis-cart-68945c5786-8w7tt","generateName":"redis-cart-68945c5786-","namespace":"default","uid":"a58fea1f-ec94-4c4c-b0a9-ea1ee718c34b","resourceVersion":"3638816","creationTimestamp":"2023-12-18T14:55:58Z","labels":{"app":"redis-cart","pod-template-hash":"68945c5786","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"redis-cart","service.istio.io/canonical-revision":"latest"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"redis","kubectl.kubernetes.io/default-logs-container":"redis","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"redis-cart-68945c5786","uid":"585e154c-6bb2-4e17-bf24-01d56ec08ec2","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:55:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"585e154c-6bb2-4e17-bf24-01d56ec08ec2\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"redis\"}":{".":{},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:periodSeconds":{},"f:successThreshold":{},"f:tcpSocket":{".":{},"f:port":{}},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":6379,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:periodSeconds":{},"f:successThreshold":{},"f:tcpSocket":{".":{},"f:port":{}},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:allowPrivilegeEscalation":{},"f:capabilities":{".":{},"f:drop":{}},"f:privileged":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/data\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:terminationGracePeriodSeconds":{},"f:volumes":{".":{},"k:{\"name\":\"redis-data\"}":{".":{},"f:emptyDir":{},"f:name":{}}}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:57:19Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.4.10\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"redis-data","emptyDir":{}},{"name":"kube-api-access-vrdks","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.0","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-vrdks","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"redis","image":"redis:alpine","ports":[{"containerPort":6379,"protocol":"TCP"}],"resources":{"limits":{"cpu":"125m","memory":"256Mi"},"requests":{"cpu":"70m","memory":"200Mi"}},"volumeMounts":[{"name":"redis-data","mountPath":"/data"},{"name":"kube-api-access-vrdks","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/app-health/redis/livez","port":15020,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/app-health/redis/readyz","port":15020,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.0","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"containerPort\":6379,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"redis"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"redis-cart"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/redis-cart"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"},{"name":"ISTIO_KUBE_APP_PROBERS","value":"{\"/app-health/redis/livez\":{\"tcpSocket\":{\"port\":6379},\"timeoutSeconds\":1},\"/app-health/redis/readyz\":{\"tcpSocket\":{\"port\":6379},\"timeoutSeconds\":1}}"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-vrdks","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"k8s-vm5","securityContext":{"runAsUser":1000,"runAsGroup":1000,"runAsNonRoot":true,"fsGroup":1000},"schedulerName":"netMarksScheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:37Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:57:19Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:57:19Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:36Z"}],"hostIP":"115.146.92.113","podIP":"10.244.4.10","podIPs":[{"ip":"10.244.4.10"}],"startTime":"2023-12-18T14:56:36Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2023-12-18T14:56:36Z","finishedAt":"2023-12-18T14:56:36Z","containerID":"cri-o://98630594e3494c7f7e3293f285959894c71f12d0264e6c8bae1c8e435731af60"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://98630594e3494c7f7e3293f285959894c71f12d0264e6c8bae1c8e435731af60","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2023-12-18T14:57:17Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://299e139853afae655e26e741cb5d9eb341cb594f54b8559ad667f79331d1c912","started":true},{"name":"redis","state":{"running":{"startedAt":"2023-12-18T14:57:17Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/library/redis:alpine","imageID":"d2d4688fcebeb127fbc1e00693c3b4165ba8a02bf1e0347dd7d9ba38f6199afe","containerID":"cri-o://8ad44d31e127677fcd9f6643005d3c878407d6e9e81e4a43c0c19daeb78442d2","started":true}],"qosClass":"Burstable"}},{"metadata":{"name":"shippingservice-6f7f8bdbcb-mw485","generateName":"shippingservice-6f7f8bdbcb-","namespace":"default","uid":"52acef54-cf2c-426b-8e00-5d5a6160bc40","resourceVersion":"3638645","creationTimestamp":"2023-12-18T14:55:58Z","labels":{"app":"shippingservice","pod-template-hash":"6f7f8bdbcb","security.istio.io/tlsMode":"istio","service.istio.io/canonical-name":"shippingservice","service.istio.io/canonical-revision":"latest"},"annotations":{"istio.io/rev":"default","kubectl.kubernetes.io/default-container":"server","kubectl.kubernetes.io/default-logs-container":"server","prometheus.io/path":"/stats/prometheus","prometheus.io/port":"15020","prometheus.io/scrape":"true","sidecar.istio.io/status":"{\"initContainers\":[\"istio-init\"],\"containers\":[\"istio-proxy\"],\"volumes\":[\"workload-socket\",\"credential-socket\",\"workload-certs\",\"istio-envoy\",\"istio-data\",\"istio-podinfo\",\"istio-token\",\"istiod-ca-cert\"],\"imagePullSecrets\":null,\"revision\":\"default\"}"},"ownerReferences":[{"apiVersion":"apps/v1","kind":"ReplicaSet","name":"shippingservice-6f7f8bdbcb","uid":"83556542-c5ce-474c-a046-4697aa5d00f1","controller":true,"blockOwnerDeletion":true}],"managedFields":[{"manager":"kube-controller-manager","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:55:58Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:generateName":{},"f:labels":{".":{},"f:app":{},"f:pod-template-hash":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"83556542-c5ce-474c-a046-4697aa5d00f1\"}":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"server\"}":{".":{},"f:env":{".":{},"k:{\"name\":\"DISABLE_PROFILER\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"PORT\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:livenessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":50051,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:readinessProbe":{".":{},"f:failureThreshold":{},"f:grpc":{".":{},"f:port":{},"f:service":{}},"f:periodSeconds":{},"f:successThreshold":{},"f:timeoutSeconds":{}},"f:resources":{".":{},"f:limits":{".":{},"f:cpu":{},"f:memory":{}},"f:requests":{".":{},"f:cpu":{},"f:memory":{}}},"f:securityContext":{".":{},"f:allowPrivilegeEscalation":{},"f:capabilities":{".":{},"f:drop":{}},"f:privileged":{},"f:readOnlyRootFilesystem":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:enableServiceLinks":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{".":{},"f:fsGroup":{},"f:runAsGroup":{},"f:runAsNonRoot":{},"f:runAsUser":{}},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{}}}},{"manager":"kubelet","operation":"Update","apiVersion":"v1","time":"2023-12-18T14:56:40Z","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:conditions":{"k:{\"type\":\"ContainersReady\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Initialized\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}},"k:{\"type\":\"Ready\"}":{".":{},"f:lastProbeTime":{},"f:lastTransitionTime":{},"f:status":{},"f:type":{}}},"f:containerStatuses":{},"f:hostIP":{},"f:initContainerStatuses":{},"f:phase":{},"f:podIP":{},"f:podIPs":{".":{},"k:{\"ip\":\"10.244.4.11\"}":{".":{},"f:ip":{}}},"f:startTime":{}}},"subresource":"status"}]},"spec":{"volumes":[{"name":"workload-socket","emptyDir":{}},{"name":"credential-socket","emptyDir":{}},{"name":"workload-certs","emptyDir":{}},{"name":"istio-envoy","emptyDir":{"medium":"Memory"}},{"name":"istio-data","emptyDir":{}},{"name":"istio-podinfo","downwardAPI":{"items":[{"path":"labels","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.labels"}},{"path":"annotations","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.annotations"}}],"defaultMode":420}},{"name":"istio-token","projected":{"sources":[{"serviceAccountToken":{"audience":"istio-ca","expirationSeconds":43200,"path":"istio-token"}}],"defaultMode":420}},{"name":"istiod-ca-cert","configMap":{"name":"istio-ca-root-cert","defaultMode":420}},{"name":"kube-api-access-52cs5","projected":{"sources":[{"serviceAccountToken":{"expirationSeconds":3607,"path":"token"}},{"configMap":{"name":"kube-root-ca.crt","items":[{"key":"ca.crt","path":"ca.crt"}]}},{"downwardAPI":{"items":[{"path":"namespace","fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}]}}],"defaultMode":420}}],"initContainers":[{"name":"istio-init","image":"docker.io/istio/proxyv2:1.20.0","args":["istio-iptables","-p","15001","-z","15006","-u","1337","-m","REDIRECT","-i","*","-x","","-b","*","-d","15090,15021,15020","--log_output_level=default:info"],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"kube-api-access-52cs5","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"add":["NET_ADMIN","NET_RAW"],"drop":["ALL"]},"privileged":false,"runAsUser":0,"runAsGroup":0,"runAsNonRoot":false,"readOnlyRootFilesystem":false,"allowPrivilegeEscalation":false}}],"containers":[{"name":"server","image":"gcr.io/google-samples/microservices-demo/shippingservice:v0.8.1","ports":[{"containerPort":50051,"protocol":"TCP"}],"env":[{"name":"PORT","value":"50051"},{"name":"DISABLE_PROFILER","value":"1"}],"resources":{"limits":{"cpu":"500m","memory":"2Gi"},"requests":{"cpu":"100m","memory":"64Mi"}},"volumeMounts":[{"name":"kube-api-access-52cs5","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"livenessProbe":{"httpGet":{"path":"/app-health/server/livez","port":15020,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":10,"successThreshold":1,"failureThreshold":3},"readinessProbe":{"httpGet":{"path":"/app-health/server/readyz","port":15020,"scheme":"HTTP"},"timeoutSeconds":1,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}},{"name":"istio-proxy","image":"docker.io/istio/proxyv2:1.20.0","args":["proxy","sidecar","--domain","$(POD_NAMESPACE).svc.cluster.local","--proxyLogLevel=warning","--proxyComponentLogLevel=misc:error","--log_output_level=default:info"],"ports":[{"name":"http-envoy-prom","containerPort":15090,"protocol":"TCP"}],"env":[{"name":"JWT_POLICY","value":"third-party-jwt"},{"name":"PILOT_CERT_PROVIDER","value":"istiod"},{"name":"CA_ADDR","value":"istiod.istio-system.svc:15012"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.name"}}},{"name":"POD_NAMESPACE","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"metadata.namespace"}}},{"name":"INSTANCE_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.podIP"}}},{"name":"SERVICE_ACCOUNT","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.serviceAccountName"}}},{"name":"HOST_IP","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"status.hostIP"}}},{"name":"ISTIO_CPU_LIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"PROXY_CONFIG","value":"{}\n"},{"name":"ISTIO_META_POD_PORTS","value":"[\n    {\"containerPort\":50051,\"protocol\":\"TCP\"}\n]"},{"name":"ISTIO_META_APP_CONTAINERS","value":"server"},{"name":"GOMEMLIMIT","valueFrom":{"resourceFieldRef":{"resource":"limits.memory","divisor":"0"}}},{"name":"GOMAXPROCS","valueFrom":{"resourceFieldRef":{"resource":"limits.cpu","divisor":"0"}}},{"name":"ISTIO_META_CLUSTER_ID","value":"Kubernetes"},{"name":"ISTIO_META_NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"ISTIO_META_INTERCEPTION_MODE","value":"REDIRECT"},{"name":"ISTIO_META_WORKLOAD_NAME","value":"shippingservice"},{"name":"ISTIO_META_OWNER","value":"kubernetes://apis/apps/v1/namespaces/default/deployments/shippingservice"},{"name":"ISTIO_META_MESH_ID","value":"cluster.local"},{"name":"TRUST_DOMAIN","value":"cluster.local"},{"name":"ISTIO_KUBE_APP_PROBERS","value":"{\"/app-health/server/livez\":{\"grpc\":{\"port\":50051,\"service\":\"\"},\"timeoutSeconds\":1},\"/app-health/server/readyz\":{\"grpc\":{\"port\":50051,\"service\":\"\"},\"timeoutSeconds\":1}}"}],"resources":{"limits":{"cpu":"2","memory":"1Gi"},"requests":{"cpu":"100m","memory":"128Mi"}},"volumeMounts":[{"name":"workload-socket","mountPath":"/var/run/secrets/workload-spiffe-uds"},{"name":"credential-socket","mountPath":"/var/run/secrets/credential-uds"},{"name":"workload-certs","mountPath":"/var/run/secrets/workload-spiffe-credentials"},{"name":"istiod-ca-cert","mountPath":"/var/run/secrets/istio"},{"name":"istio-data","mountPath":"/var/lib/istio/data"},{"name":"istio-envoy","mountPath":"/etc/istio/proxy"},{"name":"istio-token","mountPath":"/var/run/secrets/tokens"},{"name":"istio-podinfo","mountPath":"/etc/istio/pod"},{"name":"kube-api-access-52cs5","readOnly":true,"mountPath":"/var/run/secrets/kubernetes.io/serviceaccount"}],"readinessProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":15,"successThreshold":1,"failureThreshold":4},"startupProbe":{"httpGet":{"path":"/healthz/ready","port":15021,"scheme":"HTTP"},"timeoutSeconds":3,"periodSeconds":1,"successThreshold":1,"failureThreshold":600},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent","securityContext":{"capabilities":{"drop":["ALL"]},"privileged":false,"runAsUser":1337,"runAsGroup":1337,"runAsNonRoot":true,"readOnlyRootFilesystem":true,"allowPrivilegeEscalation":false}}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","serviceAccountName":"default","serviceAccount":"default","nodeName":"k8s-vm5","securityContext":{"runAsUser":1000,"runAsGroup":1000,"runAsNonRoot":true,"fsGroup":1000},"schedulerName":"netMarksScheduler","tolerations":[{"key":"node.kubernetes.io/not-ready","operator":"Exists","effect":"NoExecute","tolerationSeconds":300},{"key":"node.kubernetes.io/unreachable","operator":"Exists","effect":"NoExecute","tolerationSeconds":300}],"priority":0,"enableServiceLinks":true,"preemptionPolicy":"PreemptLowerPriority"},"status":{"phase":"Running","conditions":[{"type":"Initialized","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:38Z"},{"type":"Ready","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:40Z"},{"type":"ContainersReady","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:40Z"},{"type":"PodScheduled","status":"True","lastProbeTime":null,"lastTransitionTime":"2023-12-18T14:56:37Z"}],"hostIP":"115.146.92.113","podIP":"10.244.4.11","podIPs":[{"ip":"10.244.4.11"}],"startTime":"2023-12-18T14:56:37Z","initContainerStatuses":[{"name":"istio-init","state":{"terminated":{"exitCode":0,"reason":"Completed","startedAt":"2023-12-18T14:56:37Z","finishedAt":"2023-12-18T14:56:37Z","containerID":"cri-o://d763a1fe638cfe4d778463c33c3c62794ba495c4121e848d10d3774cc0a51416"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://d763a1fe638cfe4d778463c33c3c62794ba495c4121e848d10d3774cc0a51416","started":false}],"containerStatuses":[{"name":"istio-proxy","state":{"running":{"startedAt":"2023-12-18T14:56:38Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"docker.io/istio/proxyv2:1.20.0","imageID":"df8296c1ff5332efacd5e8b799abae71f09a01eb89a43956a7e101f3224d4216","containerID":"cri-o://49dd2f40dcc7be55a7a93a04865b9a2b85082bad9fcffbf7489993deccf31e80","started":true},{"name":"server","state":{"running":{"startedAt":"2023-12-18T14:56:38Z"}},"lastState":{},"ready":true,"restartCount":0,"image":"gcr.io/google-samples/microservices-demo/shippingservice:v0.8.1","imageID":"f190b5f62c8e249d7119f474f7d62f63d416db73d23d3fdd9f8d7e4b5a6576e4","containerID":"cri-o://f11faa0bf4c6387644eb9a0b41fcfe77a6a5c645d74633367bad22e0909f41be","started":true}],"qosClass":"Burstable"}}]}

2023-12-18 15:01:49 - DEBUG  [updateData.py:125] - {'adservice-598cc4bb8b-9f2f9': 'adservice', 'cartservice-744c994c6f-8jzdh': 'cartservice', 'checkoutservice-6d649676cd-hxd6m': 'checkoutservice', 'currencyservice-8f97ccf78-58qz5': 'currencyservice', 'emailservice-684d858f44-hssbr': 'emailservice', 'frontend-5bcc5575f4-xlcn7': 'frontend', 'loadgenerator-bfbfd744d-k6wmk': 'loadgenerator', 'paymentservice-7985588c4d-cb99n': 'paymentservice', 'productcatalogservice-84766477fd-fw5fw': 'productcatalogservice', 'recommendationservice-fcf7d4d64-64n6g': 'recommendationservice', 'redis-cart-68945c5786-8w7tt': 'redis-cart', 'shippingservice-6f7f8bdbcb-mw485': 'shippingservice'}
2023-12-18 15:01:49 - DEBUG  [updateData.py:71] - Update Started
2023-12-18 15:01:49 - DEBUG  [updateData.py:88] - Rate after Prom Query: {'shippingservice': {'adservice': 0.0, 'paymentservice': 0.0, 'redis-cart': 0.0, 'currencyservice': 0.0, 'loadgenerator': 0.0, 'emailservice': 0.0, 'recommendationservice': 0.0, 'frontend': 0.0, 'cartservice': 0.0, 'checkoutservice': 0.0, 'productcatalogservice': 0.0}, 'adservice': {'shippingservice': 0.0, 'paymentservice': 0.0, 'redis-cart': 0.0, 'currencyservice': 0.0, 'loadgenerator': 0.0, 'emailservice': 0.0, 'recommendationservice': 0.0, 'frontend': 0.0, 'cartservice': 0.0, 'checkoutservice': 0.0, 'productcatalogservice': 0.0}, 'paymentservice': {'shippingservice': 0.0, 'adservice': 0.0, 'redis-cart': 0.0, 'currencyservice': 0.0, 'loadgenerator': 0.0, 'emailservice': 0.0, 'recommendationservice': 0.0, 'frontend': 0.0, 'cartservice': 0.0, 'checkoutservice': 0.0, 'productcatalogservice': 0.0}, 'redis-cart': {'shippingservice': 0.0, 'adservice': 0.0, 'paymentservice': 0.0, 'currencyservice': 0.0, 'loadgenerator': 0.0, 'emailservice': 0.0, 'recommendationservice': 0.0, 'frontend': 0.0, 'cartservice': 0.0, 'checkoutservice': 0.0, 'productcatalogservice': 0.0}, 'currencyservice': {'shippingservice': 0.0, 'adservice': 0.0, 'paymentservice': 0.0, 'redis-cart': 0.0, 'loadgenerator': 0.0, 'emailservice': 0.0, 'recommendationservice': 0.0, 'frontend': 0.0, 'cartservice': 0.0, 'checkoutservice': 0.0, 'productcatalogservice': 0.0}, 'loadgenerator': {'shippingservice': 0.0, 'adservice': 0.0, 'paymentservice': 0.0, 'redis-cart': 0.0, 'currencyservice': 0.0, 'emailservice': 0.0, 'recommendationservice': 0.0, 'frontend': 24346.555555555555, 'cartservice': 0.0, 'checkoutservice': 0.0, 'productcatalogservice': 0.0}, 'emailservice': {'shippingservice': 0.0, 'adservice': 0.0, 'paymentservice': 0.0, 'redis-cart': 0.0, 'currencyservice': 0.0, 'loadgenerator': 0.0, 'recommendationservice': 0.0, 'frontend': 0.0, 'cartservice': 0.0, 'checkoutservice': 0.0, 'productcatalogservice': 0.0}, 'recommendationservice': {'shippingservice': 0.0, 'adservice': 0.0, 'paymentservice': 0.0, 'redis-cart': 0.0, 'currencyservice': 0.0, 'loadgenerator': 0.0, 'emailservice': 0.0, 'frontend': 0.0, 'cartservice': 0.0, 'checkoutservice': 0.0, 'productcatalogservice': 3088.633333333333}, 'frontend': {'shippingservice': 77.05555555555554, 'adservice': 309.47777777777776, 'paymentservice': 0.0, 'redis-cart': 0.0, 'currencyservice': 1114.5222222222221, 'loadgenerator': 0.0, 'emailservice': 0.0, 'recommendationservice': 404.7777777777777, 'cartservice': 343.51111111111106, 'checkoutservice': 83.55555555555554, 'productcatalogservice': 3414.544444444444}, 'cartservice': {'shippingservice': 0.0, 'adservice': 0.0, 'paymentservice': 0.0, 'redis-cart': 496.4666666666666, 'currencyservice': 0.0, 'loadgenerator': 0.0, 'emailservice': 0.0, 'recommendationservice': 0.0, 'frontend': 0.0, 'checkoutservice': 0.0, 'productcatalogservice': 0.0}, 'checkoutservice': {'shippingservice': 70.44131371939025, 'adservice': 0.0, 'paymentservice': 32.59855117550332, 'redis-cart': 0.0, 'currencyservice': 63.15274876672148, 'loadgenerator': 0.0, 'emailservice': 57.441891471490166, 'recommendationservice': 0.0, 'frontend': 0.0, 'cartservice': 47.83120750188881, 'productcatalogservice': 90.31820807964091}, 'productcatalogservice': {'shippingservice': 0.0, 'adservice': 0.0, 'paymentservice': 0.0, 'redis-cart': 0.0, 'currencyservice': 0.0, 'loadgenerator': 0.0, 'emailservice': 0.0, 'recommendationservice': 0.0, 'frontend': 0.0, 'cartservice': 0.0, 'checkoutservice': 0.0}}
2023-12-18 15:01:49 - DEBUG  [updateData.py:89] - CPU after Prom Query: {'shippingservice': 0.0024207362890481415, 'adservice': 0.006191662689599144, 'paymentservice': 0.0034543612823289085, 'redis-cart': 0.00262355630311615, 'currencyservice': 0.06361110812553739, 'loadgenerator': 0.005993091574032905, 'emailservice': 0.002547693656089131, 'recommendationservice': 0.0049405398751611864, 'frontend': 0.027226977746839402, 'cartservice': 0.0035570000000000176, 'checkoutservice': 0.0053760342189890465, 'productcatalogservice': 0.009647382582128262}
2023-12-18 15:01:49 - DEBUG  [updateData.py:117] - Update Done
